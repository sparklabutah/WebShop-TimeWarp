<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{product_info.Title}} - WebShop.com</title>
    <link rel="stylesheet" href="{{url_for('static', filename='style.css')}}">
    <link rel="icon" href="data:,">
</head>
<body>
    <!-- Top Utility Links -->
    <div class="top-utility">
        <div class="container">
            <div style="text-align: right;">
                <a href="#">YOUR ACCOUNT</a> | <a href="#">HELP</a>
                <span style="margin-left: 10px;">üõí</span>
            </div>
        </div>
    </div>

    <!-- Primary Navigation -->
    <div class="nav-primary">
        <div class="container">
            <form method="post" action="{{url_for('index', session_id=session_id)}}" style="display: inline;">
                <button type="submit" class="nav-link-btn">WELCOME</button>
            </form> |
            <form method="post" action="{{url_for('index', session_id=session_id)}}" style="display: inline;">
                <input type="hidden" name="search_query" value="books">
                <button type="submit" class="nav-link-btn">BOOKS</button>
            </form> |
            <form method="post" action="{{url_for('index', session_id=session_id)}}" style="display: inline;">
                <input type="hidden" name="search_query" value="music">
                <button type="submit" class="nav-link-btn">MUSIC</button>
            </form> |
            <form method="post" action="{{url_for('index', session_id=session_id)}}" style="display: inline;">
                <input type="hidden" name="search_query" value="video">
                <button type="submit" class="nav-link-btn">VIDEO</button>
            </form> |
            <form method="post" action="{{url_for('index', session_id=session_id)}}" style="display: inline;">
                <input type="hidden" name="search_query" value="toys">
                <button type="submit" class="nav-link-btn">TOYS & GAMES</button>
            </form> |
            <form method="post" action="{{url_for('index', session_id=session_id)}}" style="display: inline;">
                <input type="hidden" name="search_query" value="electronics">
                <button type="submit" class="nav-link-btn">ELECTRONICS</button>
            </form> |
            <a href="#">e-CARDS</a> |
            <a href="#">AUCTIONS</a>
        </div>
    </div>

    <!-- Secondary Navigation -->
    <div class="nav-secondary">
        <div class="container">
            <a href="#">HOW TO ORDER</a> | <a href="#">OUR GUARANTEE</a> | <a href="#">SITE GUIDE</a>
            <span style="float: right; color: white;" id="current-date"></span>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="container main-layout">
        <!-- Left Sidebar -->
        <div class="sidebar-left">
            <!-- Search Box -->
            <div class="search-box">
                <div class="search-header">SEARCH</div>
                <form method="post" action="{{url_for('index', session_id=session_id)}}">
                    <input type="text" name="search_query" style="width: 100%; padding: 2px 4px; font-size: 10px; margin-bottom: 5px;" placeholder="Search...">
                    <button type="submit" class="search-go-btn">GO!</button>
                </form>
            </div>

            <!-- Navigation Links -->
            <div style="margin-bottom: 15px;">
                <form method="post" action="{{url_for('index', session_id=session_id)}}" style="margin-bottom: 5px;">
                    <button type="submit" class="btn" style="width: 100%;">‚Üê Back to Search</button>
                </form>
                <form method="post" action="{{url_for('search_results', session_id=session_id, keywords=keywords, page=page)}}" style="margin-bottom: 5px;">
                    <button type="submit" class="btn" style="width: 100%;">‚Üê Back to Results</button>
                </form>
            </div>

            <!-- Browse Section -->
            <div class="browse-section">
                <div class="browse-header">BROWSE</div>
                <ul class="browse-list">
                    <li><strong>Electronics</strong>
                        <ul>
                            <li><a href="#">Computers</a></li>
                            <li><a href="#">Audio</a></li>
                            <li><a href="#">Video</a></li>
                        </ul>
                    </li>
                    <li><strong>Books</strong>
                        <ul>
                            <li><a href="#">Bestsellers</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Product Details -->
            <div class="product-details">
                <table width="100%" cellpadding="10" cellspacing="0" border="0">
                    <tr>
                        <td width="200" valign="top">
                            <img id="product-image" src="{{product_info.MainImage}}" alt="{{product_info.Title}}" class="product-main-img" onerror="this.src='{{ url_for("static", filename="images/no-image-available.png") }}'">
                        </td>
                        <td valign="top">
                            <div style="margin-bottom: 12px;">
                                <h1 style="font-size: 14px; font-weight: bold; color: #000000; margin-bottom: 8px; line-height: 1.3;">
                                    {{product_info.Title}}
                                </h1>
                                <div style="font-size: 10px; color: #666; margin-bottom: 8px;">
                                    ASIN: {{product_info.asin}}
                                </div>
                                <div style="font-size: 16px; font-weight: bold; color: #CC0000; margin-bottom: 8px;">
                                    {{product_info.Price}}
                                </div>
                                <div style="font-size: 10px; color: #666; margin-bottom: 12px;">
                                    Rating: {{product_info.Rating if product_info.Rating else 'N/A'}}
                                </div>
                            </div>

                            <!-- Product Options -->
                            {% if product_info.options %}
                            {% for option_name, option_contents in product_info.options.items() %}
                            <div style="margin-bottom: 12px;">
                                <div style="font-size: 10px; font-weight: bold; margin-bottom: 4px;">
                                    {{ option_name }}:
                                </div>
                                <div style="margin-left: 10px;">
                                    {% for option_content in option_contents %}
                                    {% set current_options = options.copy() %}
                                    {% set _ = current_options.update({option_name: option_content}) %}
                                    {% set url = url_for('item_page', session_id=session_id, asin=asin, keywords=keywords, page=page, options=current_options) %}
                                    <label style="font-size: 10px; cursor: pointer; display: block; margin-bottom: 3px;">
                                        <input type="radio" name="{{ option_name }}" value="{{ option_content }}" data-url="{{ url }}" style="margin-right: 5px;">
                                        {{ option_content }}
                                    </label>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endfor %}
                            {% endif %}

                            <!-- Buy Button -->
                            <div style="margin-top: 20px;">
                                <form method="post" action="{{url_for('done', session_id=session_id, asin=asin, options=options)}}">
                                    <button type="submit" class="btn-purchase">BUY NOW</button>
                                </form>
                                <div style="font-size: 9px; color: #666; margin-top: 5px;">
                                    100% Secure Checkout - Guaranteed
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

            <!-- Product Information Tabs -->
            <div style="margin-top: 15px; border-top: 1px solid #CCCCCC; padding-top: 12px;">
                <div style="font-size: 10px; font-weight: bold; margin-bottom: 8px;">Product Information:</div>
                <div style="margin-left: 10px;">
                    <form method="post" action="{{ url_for('item_sub_page', session_id=session_id, asin=asin, keywords=keywords, page=page, sub_page='Description', options=options) }}" style="display: inline-block; margin-right: 10px; margin-bottom: 5px;">
                        <button type="submit" class="btn">Description</button>
                    </form>
                    <form method="post" action="{{ url_for('item_sub_page', session_id=session_id, asin=asin, keywords=keywords, page=page, sub_page='Features', options=options) }}" style="display: inline-block; margin-right: 10px; margin-bottom: 5px;">
                        <button type="submit" class="btn">Features</button>
                    </form>
                    <form method="post" action="{{ url_for('item_sub_page', session_id=session_id, asin=asin, keywords=keywords, page=page, sub_page='Reviews', options=options) }}" style="display: inline-block; margin-right: 10px; margin-bottom: 5px;">
                        <button type="submit" class="btn">Reviews</button>
                    </form>
                    {% if show_attrs %}
                    <form method="post" action="{{ url_for('item_sub_page', session_id=session_id, asin=asin, keywords=keywords, page=page, sub_page='Attributes', options=options) }}" style="display: inline-block; margin-right: 10px; margin-bottom: 5px;">
                        <button type="submit" class="btn">Attributes</button>
                    </form>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Right Sidebar -->
        <div class="sidebar-right">
            <div class="sidebar-box">
                <div class="box-title">Secure Shopping</div>
                <p style="font-size: 10px; margin: 4px 0;">
                    Shopping at WebShop.com is 100% secure--guaranteed.
                </p>
            </div>

            <div class="sidebar-box">
                <div class="box-title">Related Products</div>
                <ul style="list-style: none; padding: 0; font-size: 10px;">
                    <li style="margin-bottom: 5px;"><a href="#">Similar Item 1</a></li>
                    <li style="margin-bottom: 5px;"><a href="#">Similar Item 2</a></li>
                    <li style="margin-bottom: 5px;"><a href="#">Similar Item 3</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="container">
            <div style="font-size: 10px; color: #666; margin-bottom: 10px;">
                <a href="#" style="color: #0066CC;">Text Only</a>
            </div>
            <div style="border-top: 1px solid #CCCCCC; padding-top: 10px; margin-bottom: 10px;">
                <a href="#">1-Click Settings</a> | <a href="#">Shopping Cart</a> | <a href="#">Your Account</a> | <a href="#">Help</a>
            </div>
            <div style="font-size: 10px; color: #666;">
                Copyright and disclaimer ¬© 1996-1999, WebShop.com, Inc.
            </div>
        </div>
    </div>

    <script>
        // Set current date
        const date = new Date();
        const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
        const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        document.getElementById('current-date').textContent = 
            days[date.getDay()] + ', ' + months[date.getMonth()] + ' ' + date.getDate() + ', ' + date.getFullYear();

        // Handle option selection
        document.addEventListener('DOMContentLoaded', function() {
            const radios = document.querySelectorAll('input[type="radio"]');
            const options = JSON.parse('{{ options | tojson | safe }}');
            
            radios.forEach(function(radio) {
                // Check if this option is selected
                const optionValues = Object.values(options);
                if (optionValues.includes(radio.value)) {
                    radio.checked = true;
                    
                    // Update image if available
                    const optionToImage = JSON.parse('{{ product_info.option_to_image | tojson | safe }}');
                    const imageUrl = optionToImage[radio.value];
                    if (imageUrl) {
                        document.getElementById('product-image').src = imageUrl;
                    }
                }
                
                // Handle click
                radio.addEventListener('click', function() {
                    window.location.href = this.dataset.url;
                });
            });
        });
    </script>
</body>
</html>
